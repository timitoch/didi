<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Words Trainer</title>
    <script src="https://code.responsivevoice.org/responsivevoice.js?key=i8NuynN8"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/9.22.0/firebase-app-compat.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/9.22.0/firebase-database-compat.min.js"></script>
    <link rel="stylesheet" href="style.css"> 
</head>
<body>

<div class="container">
    
    <div id="upload-container">
        <button id="back-to-trainer-btn" class="back-to-trainer-btn hidden" title="–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Ç—Ä–µ–Ω–∞–∂–µ—Ä—É">√ó</button>
        <div class="upload-area" id="upload-area">
            <p>üìÅ –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ Excel (.xlsx) —Ñ–∞–π–ª —Å—é–¥–∞ –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ</p>
            <small style="color: var(--text-light); margin-top: 10px; display: block;">
                –§–æ—Ä–º–∞—Ç: ID | –ù–µ–º–µ—Ü–∫–æ–µ —Å–ª–æ–≤–æ | –ü–µ—Ä–µ–≤–æ–¥ | –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è 1 (—Ñ–æ—Ä–º—ã –≥–ª–∞–≥–æ–ª–∞) | –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è 2 (–ø–∞–¥–µ–∂, –ø—Ä–∏—Å—Ç–∞–≤–∫–∞) | –ü—Ä–∏–º–µ—Ä 1 | –ü—Ä–∏–º–µ—Ä 2 | –ü—Ä–∏–º–µ—Ä 3
            </small>
        </div>
        
        <div class="file-input-container">
            <label for="file-input" class="file-input-button">
                üìÇ –í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª
            </label>
            <input type="file" id="file-input" accept=".xlsx,.xls" />
            <button id="reset-progress-btn" class="reset-progress-btn">üóëÔ∏è –°–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å</button>
        </div>
        
        <div class="sync-container">
            <div class="sync-status" id="sync-status">
                <span id="sync-indicator">üîÑ</span>
                <span id="sync-text">–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –æ—Ç–∫–ª—é—á–µ–Ω–∞</span>
            </div>
            
            <div class="sync-controls">
                <button id="create-sync-btn" class="sync-btn">üîó –°–æ–∑–¥–∞—Ç—å –∫–æ–¥ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏</button>
                <button id="join-sync-btn" class="sync-btn">üì≤ –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –ø–æ –∫–æ–¥—É</button>
                <button id="disconnect-sync-btn" class="sync-btn hidden">‚ùå –û—Ç–∫–ª—é—á–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é</button>
            </div>
            
            <div id="sync-code-display" class="sync-code-display hidden">
                <div class="sync-code-header">–í–∞—à –∫–æ–¥ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:</div>
                <div class="sync-code" id="sync-code"></div>
                <small>–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —ç—Ç–∏–º –∫–æ–¥–æ–º —Å –¥—Ä—É–≥–∏–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏</small>
            </div>
            
            <div id="sync-input-container" class="sync-input-container hidden">
                <input type="text" id="sync-code-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏" maxlength="8">
                <button id="connect-sync-btn" class="sync-btn">–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è</button>
                <button id="cancel-sync-btn" class="sync-btn">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
        
        <div class="gender-legend">
            <div class="gender-legend-item">
                <div class="gender-color-box masculine"></div>
                <span>der (–º—É–∂—Å–∫–æ–π)</span>
            </div>
            <div class="gender-legend-item">
                <div class="gender-color-box feminine"></div>
                <span>die (–∂–µ–Ω—Å–∫–∏–π)</span>
            </div>
            <div class="gender-legend-item">
                <div class="gender-color-box neuter"></div>
                <span>das (—Å—Ä–µ–¥–Ω–∏–π)</span>
            </div>
        </div>
    </div>

    <div id="trainer-container" class="hidden">
        
        <div class="trainer-header">
            <div class="header-left">
                <button id="back-btn" class="back-btn" title="–ü—Ä–µ–¥—ã–¥—É—â–µ–µ —Å–ª–æ–≤–æ">‚Üê</button>
                <button id="reload-file-btn" class="reload-file-btn" title="–û–±–Ω–æ–≤–∏—Ç—å —Ñ–∞–π–ª">üìÅ</button>
                <button id="toggle-speech-btn" class="toggle-speech-btn" title="–í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –æ–∑–≤—É—á–∏–≤–∞–Ω–∏–µ">üîá</button>
            </div>
            <div class="header-center">
                
            </div>
            <div class="header-right">
                <div class="sync-status-small" id="sync-status-small">
                    <span id="sync-indicator-small">üîÑ</span>
                </div>
                <div class="mastered-count" id="mastered-count">
                    –û—Å–≤–æ–µ–Ω–æ: <span id="mastered-number">0</span>
                </div>
            </div>
        </div>
        
        <div class="stats">
            <div class="stat-item">
                <div class="stat-number" id="new-count">0</div>
                <div class="stat-label">–í—Å–µ–≥–æ —Å–ª–æ–≤</div>
            </div>
            <div class="stat-item">
                <div class="stat-number" id="due-count">0</div>
                <div class="stat-label">–ö –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—é</div>
            </div>
            <div class="stat-item">
                <div class="stat-number" id="done-count">0</div>
                <div class="stat-label">–ò–∑—É—á–µ–Ω–æ —Å–µ–≥–æ–¥–Ω—è</div>
            </div>
        </div>

        <div id="card-container" class="card-container"></div>
        
        <div class="rating-buttons" id="rating-container">
            <button class="rating-btn rating-btn-1" data-rating="1">–ù–µ –ø–æ–º–Ω—é<br><small>5 –º–∏–Ω—É—Ç</small></button>
            <button class="rating-btn rating-btn-2" data-rating="2">–° —Ç—Ä—É–¥–æ–º<br><small>1 –¥–µ–Ω—å</small></button>
            <button class="rating-btn rating-btn-3" data-rating="3">–ß–∞—Å—Ç–∏—á–Ω–æ<br><small>4 –¥–Ω—è</small></button>
            <button class="rating-btn rating-btn-4" data-rating="4">–ü–æ—á—Ç–∏<br><small>7 –¥–Ω–µ–π</small></button>
            <button class="rating-btn rating-btn-5" data-rating="5">–ü–æ–º–Ω—é<br><small>12 –¥–Ω–µ–π</small></button>
            <button class="rating-btn rating-btn-6" data-rating="6">–û—Ç–ª–∏—á–Ω–æ<br><small>21 –¥–µ–Ω—å</small></button>
        </div>
    </div>

    <div id="session-end" class="hidden session-end-message">
        <h2>üéâ –°–µ—Å—Å–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞!</h2>
        <p id="end-message-text">–í—ã –æ—Ç–ª–∏—á–Ω–æ –ø–æ—Ä–∞–±–æ—Ç–∞–ª–∏. –ó–∞–π–¥–∏—Ç–µ –ø–æ–∑–∂–µ, —á—Ç–æ–±—ã –ø–æ–≤—Ç–æ—Ä–∏—Ç—å —Å–ª–æ–≤–∞.</p>
        <button id="restart-btn" class="action-btn hidden">–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
    </div>
</div>

<script src="script.js"></script>
</body>
</html>